  <%= f.input :name %>
  <%= f.association :chipseq_experiment %>
  <%= f.input :wild_type_input, label_html: {"data-toggle": "tooltip", "title": "If this is a control that hasn't had any genetic modification applied, then check this box. Checking this box automitically will result in the 'control' attribute being set to true when saved, even if currently set to false."} %>
  <%= f.input :control %>
  <%= f.input :upstream_identifier, label_html: {"data-toggle": "tooltip", "title": "The alias or accession of an existing replicate on the ENCODE Portal (leave blank if this is a new repliate that hasn't been registered there yet). For a list of available replicates on the ENCODE Portal, see https://www.encodeproject.org/replicates."} %>

  <% if not @control %>
    <!-- Can only select from biosample_replicates that don't yet have a chipseq_experiment. -->
    <%= f.association :biosample, selection: Biosample.non_plated.where({control: false}) %>
  <% else %>
    <%= f.association :biosample, selection: Biosample.non_plated.where({control: true}) %>
  <% end %>
  <%= f.input :biological_replicate_number %>
  <%= f.input :technical_replicate_number %>
  <%= render partial: "application_partials/notes", locals: {f: f} %>
